define(["jquery","jqueryui","local_buildings/datatable",,"local_buildings/spectrum"],function(a,b,c,d){"use strict";function e(){a("#buildings_table").DataTable(),f()}function f(){M.cfg.wwwroot;a(".delete_building").click(function(){var b=a(this).data("id");console.log(b);var c=M.util.get_string("delete_building","local_buildings");a("#delete-content").html(c),a("#deleteModal").modal({show:!0,focus:!0}),a("#deleteBtn").click(function(){a.ajax({type:"POST",url:"ajax.php?action=deleteBuilding&id="+b,dataType:"html",success:function(a){"ERROR-1451"==a?alert("This building cannot be deleted because a floor is linked to this building."):location.reload()}})})})}return{init:function(){e()}}});